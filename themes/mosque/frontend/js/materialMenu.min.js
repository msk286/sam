!function(t){"use strict";function e(){var t,e=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}function n(e){var n=0,i=0;if(!e)var e=t.event;return e.pageX||e.pageY?(n=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(n=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:n,y:i}}function i(e){var n=e.getBoundingClientRect(),i=document.body,s=document.documentElement,o=t.pageYOffset||s.scrollTop||i.scrollTop,a=t.pageXOffset||s.scrollLeft||i.scrollLeft,r=s.clientTop||i.clientTop||0,c=s.clientLeft||i.clientLeft||0,m=n.top+o-r,l=n.left+a-c;return{x:Math.round(l),y:Math.round(m)}}function s(){this.body=document.body,this.wrapper=document.querySelector("#wrapper"),this.toggle=document.querySelector("#mm-menu-toggle"),this.menu=document.querySelector("#side_bar_nav"),this.menuItems=this.menu.querySelectorAll("li"),this.menuItemLinks=this.menu.querySelectorAll("a"),this.menuPosition="off",this.mask=document.createElement("div"),this.mask.className="mm-menu-mask",document.body.appendChild(this.mask),this._init()}var o=e();s.prototype._init=function(){this._initToggleEvents(),this._initItemTransitions(),this._initTouchEffect(),this._initMaskEvents()},s.prototype._initToggleEvents=function(){var t=this;this.toggle.addEventListener("click",function(){"off"==t.menuPosition?t._toggleMenuOn():t._toggleMenuOff()})},s.prototype._toggleMenuOn=function(){var t=this;this.body.classList.add("mm-menu-open"),this.wrapper.classList.add("mm-menu-open"),this.toggle.classList.add("active"),this.menu.classList.add("active");for(var e=0;e<t.menuItems.length;e++){var n=t.menuItems[e];!function(t){t.classList.add("in-view")}(n)}this.mask.classList.add("active"),this.menuPosition="on"},s.prototype._toggleMenuOff=function(){var t=this;this.body.classList.remove("mm-menu-open"),this.wrapper.classList.remove("mm-menu-open"),this.toggle.classList.remove("active"),this.menu.classList.remove("active");for(var e=0;e<t.menuItems.length;e++){var n=t.menuItems[e];!function(t){t.classList.remove("in-view")}(n)}this.mask.classList.remove("active"),this.menuPosition="off"},s.prototype._initItemTransitions=function(){for(var t=this.menuItems.length,e=0;t>e;e++){var n=e+1,i=this.menuItems[e];this._itemTransitionHandler(i,n)}},s.prototype._itemTransitionHandler=function(t,e){t.classList.add("item-"+e)},s.prototype._initTouchEffect=function(){for(var t=this.menuItemLinks.length,e=0;t>e;e++){var n=this.menuItemLinks[e];this._touchEffectHandler(n)}},s.prototype._touchEffectHandler=function(t){var e=t.offsetWidth,s=t.offsetHeight,a=2*Math.max(e,s),r=document.createElement("span");r.className="mm-menu__link--touch-effect",r.style.width=a+"px",r.style.height=a+"px",t.insertBefore(r,t.firstChild),t.addEventListener("click",function(t){var e=n(t).x-i(this).x,s=n(t).y-i(this).y;r.style.top=s+"px",r.style.left=e+"px",r.style.marginTop=-(a/2)+"px",r.style.marginLeft=-(a/2)+"px",r.classList.add("animating")}),r.addEventListener(o,function(){this.classList.remove("animating")})},s.prototype._initMaskEvents=function(){var t=this;this.mask.addEventListener("click",function(e){e.preventDefault(),"on"==t.menuPosition?t._toggleMenuOff():!1})},t.Menu=s}(window);